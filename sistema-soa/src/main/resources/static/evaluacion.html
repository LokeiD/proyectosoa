<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Evaluación de Créditos - COOPAC</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/solicitud.css">
</head>

<body>

<div class="d-flex" id="wrapper">
  <div class="bg-light border-end" id="sidebar-wrapper">
    <div class="sidebar-heading text-center py-4 primary-text fs-4 fw-bold text-uppercase border-bottom">
      <img src="img/logotipo.png" alt="Logo" width="200" class="mb-2">
    </div>
    <div class="list-group list-group-flush my-3">
      <p class="text-muted small fw-bold px-3">MENU</p>
      <a href="#" class="list-group-item list-group-item-action bg-transparent second-text fw-bold">
        <i class="fas fa-chart-bar me-2"></i> INICIOS
      </a>
      <div class="list-group-item bg-transparent p-0">
        <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 list-group-item-action w-100 text-success"
                data-bs-toggle="collapse" data-bs-target="#creditos-collapse" aria-expanded="true">
          <i class="fa-solid fa-credit-card me-2"></i> CREDITOS
        </button>
        <div class="collapse show" id="creditos-collapse">
          <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
            <li><a href="solicitudRegistro.html" class="link-body-emphasis d-inline-flex text-decoration-none rounded">SOLICITUD DE CREDITO</a></li>
            <li><a href="observadas.html" class="link-body-emphasis d-inline-flex text-decoration-none rounded">SOLICITUD OBSERVADA</a></li>
            <li><a href="rechazadas.html" class="link-body-emphasis d-inline-flex text-decoration-none rounded">SOLICITUD RECHAZADA</a></li>
            <li><a href="evaluacion.html" class="link-body-emphasis d-inline-flex text-decoration-none rounded active-submenu">EVALUACION DE CREDITO</a></li>
            <li><a href="desembolso.html" class="link-body-emphasis d-inline-flex text-decoration-none rounded">DESEMBOLSO DE CREDITO</a></li>
          </ul>
        </div>
      </div>
      <a href="captacion.html" class="list-group-item list-group-item-action bg-transparent second-text fw-bold">
        <i class="fas fa-file-invoice-dollar me-2"></i> CAPTACIONES
      </a>
    </div>
  </div>

  <div id="page-content-wrapper">
    <nav class="navbar navbar-expand-lg navbar-light bg-transparent py-4 px-4">
      <div class="d-flex align-items-center">
        <span class="text-muted text-uppercase small">Menu / Creditos / Evaluacion</span>
      </div>
    </nav>

    <div class="container-fluid px-4">
      <div class="input-group input-group-lg mb-4 bg-white shadow-sm rounded-3 overflow-hidden border-0">
        <span class="input-group-text bg-white border-0 ps-4"><i class="fas fa-search text-muted"></i></span>
        <input type="text" id="searchInput" class="form-control border-0 bg-light-gray"
               placeholder="BUSCAR POR NOMBRE | APELLIDO | DNI">
      </div>

      <div class="d-flex align-items-center mb-3">
        <h4 class="fw-bold m-0 me-3">EVALUACIONES DE CREDITO</h4>
        <span class="badge bg-purple-light text-purple rounded-pill px-3 py-2" id="lblContadorSolicitudes">
                        CARGANDO...
                    </span>
      </div>

      <div class="table-responsive bg-white p-3 rounded-3 shadow-sm">
        <table class="table table-hover align-middle">
          <thead class="bg-light text-muted small text-uppercase">
          <tr>
            <th>N° Expediente</th>
            <th>Fecha</th>
            <th>DNI</th>
            <th>Nombres y Apellidos</th>
            <th>Producto Financiero</th>
            <th>Monto</th>
            <th>Cuotas</th>
            <th>Periodo</th>
            <th>TEA</th>
            <th style="min-width: 150px;">Expediente</th> <th style="min-width: 150px;">Decision</th>
          </tr>
          </thead>
          <tbody id="tablaEvaluacion">
          </tbody>
        </table>
      </div>

      <div class="d-flex justify-content-between align-items-center mt-4 mb-5">
        <button class="btn btn-outline-secondary px-4 rounded-pill"><i class="fas fa-arrow-left me-2"></i> Anterior</button>
        <div class="pagination-numbers text-muted">
          <span class="fw-bold text-dark mx-2">1</span>
        </div>
        <button class="btn btn-outline-secondary px-4 rounded-pill">Siguiente <i class="fas fa-arrow-right ms-2"></i></button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalAprobar" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content border-0 shadow-lg" style="border-radius: 10px;">
      <div class="modal-body p-4">
        <input type="hidden" id="hdnIdSolicitudAprobar">

        <div class="section-header header-green mb-3">::: DATOS DE SOLICITUD REGISTRADA :::</div>
        <div class="row g-3 mb-3">
          <div class="col-md-2">
            <label class="form-label small fw-bold">DNI DEL SOCIO</label>
            <input type="text" id="txtDniAprobar" class="form-control text-center bg-light" readonly>
          </div>
          <div class="col-md-2">
            <label class="form-label small fw-bold">MONTO SOLICITADO</label>
            <input type="text" id="txtMontoSolAprobar" class="form-control text-center bg-light" readonly>
          </div>
          <div class="col-md-2">
            <label class="form-label small fw-bold">N° DE CUOTAS</label>
            <input type="text" id="txtCuotasSolAprobar" class="form-control text-center bg-light" readonly>
          </div>
          <div class="col-md-3">
            <label class="form-label small fw-bold">PERIODO</label>
            <input type="text" id="txtPeriodoSolAprobar" class="form-control text-center bg-light" readonly>
          </div>
          <div class="col-md-3">
            <label class="form-label small fw-bold">ACTIVIDAD</label>
            <input type="text" id="txtActividadAprobar" class="form-control text-center bg-light" readonly>
          </div>
        </div>

        <div class="row g-3 mb-4">
          <div class="col-md-2">
            <label class="form-label small fw-bold">T.E.M. [%]</label>
            <input type="text" id="txtTemSolAprobar" class="form-control text-center bg-light" readonly>
          </div>
          <div class="col-md-2">
            <label class="form-label small fw-bold">T.E.A. [%]</label>
            <input type="text" id="txtTeaSolAprobar" class="form-control text-center bg-light" readonly>
          </div>
          <div class="col-md-3">
            <label class="form-label small fw-bold">RECURRENCIA</label>
            <input type="text" id="txtRecurrenciaAprobar" class="form-control text-center bg-light" readonly>
          </div>
          <div class="col-md-2">
            <label class="form-label small fw-bold">RIESGO T.L.C</label>
            <input type="text" id="txtRiesgoAprobar" class="form-control text-center bg-light" readonly>
          </div>
          <div class="col-md-3">
            <label class="form-label small fw-bold">PRODUCTO FINANCIERO</label>
            <input type="text" id="txtProductoAprobar" class="form-control text-center bg-light" readonly>
          </div>
        </div>

        <div class="section-header header-lime mb-3">::: RESOLUCIÓN DE APROBACIÓN :::</div>
        <form id="formAprobar">
          <div class="row g-3 mb-3">
            <div class="col-md-2">
              <label class="form-label small fw-bold">MONTO APROBADO</label>
              <input type="number" id="txtMontoAprobado" class="form-control text-center" required>
            </div>
            <div class="col-md-3">
              <label class="form-label small fw-bold">CUOTAS APROBADAS</label>
              <input type="number" id="txtCuotasAprobadas" class="form-control text-center" required>
            </div>
            <div class="col-md-3">
              <label class="form-label small fw-bold">PERIODO APROBADO</label>
              <input type="text" id="txtPeriodoAprobado" class="form-control text-center" required>
            </div>
            <div class="col-md-2">
              <label class="form-label small fw-bold">T.E.M [%]</label>
              <input type="number" step="0.01" id="txtTemAprobado" class="form-control text-center">
            </div>
            <div class="col-md-2">
              <label class="form-label small fw-bold">T.E.A [%]</label>
              <input type="number" step="0.01" id="txtTeaAprobado" class="form-control text-center">
            </div>
          </div>

          <div class="mb-4">
            <label class="form-label small fw-bold text-center w-100">RESOLUCIÓN</label>
            <textarea id="txtResolucionAprobar" class="form-control" rows="6" style="resize: none; border: 1px solid #ced4da;"></textarea>
          </div>

          <div class="d-flex justify-content-end gap-3">
            <button type="button" class="btn btn-danger px-5 py-2 fw-bold shadow-sm" data-bs-dismiss="modal" style="background-color: #c0392b; border-radius: 20px; border: none;">
              CANCELAR
            </button>
            <button type="submit" class="btn btn-success px-4 py-2 fw-bold shadow-sm" style="background-color: #2ecc71; border-radius: 20px; border: none;">
              REGISTRAR APROBACIÓN
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalObservar" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content border-0 shadow-lg" style="border-radius: 10px;">
      <div class="modal-body p-4">
        <input type="hidden" id="hdnIdSolicitudObservar">
        <div class="section-header header-gold mb-4">::: OBSERVACIÓN DE SOLICITUD :::</div>
        <form id="formObservar">
          <div class="mb-4">
            <textarea id="txtDetalleObservacion" class="form-control shadow-sm" rows="8" placeholder="Ingrese el detalle de la observación aquí..." required style="resize: none; border: 1px solid #ced4da; border-radius: 5px;"></textarea>
          </div>
          <div class="d-flex justify-content-end gap-3">
            <button type="button" class="btn btn-danger px-5 py-2 fw-bold shadow-sm" data-bs-dismiss="modal" style="background-color: #c0392b; border-radius: 20px; border: none;">
              CANCELAR
            </button>
            <button type="submit" class="btn btn-success px-4 py-2 fw-bold shadow-sm" style="background-color: #2ecc71; border-radius: 20px; border: none;">
              REGISTRAR OBSERVACIÓN
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalRechazar" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content content-rechazo shadow-lg">
      <button type="button" class="btn-close position-absolute top-0 end-0 m-3 bg-white rounded-circle p-2" data-bs-dismiss="modal" aria-label="Close" style="opacity: 1; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
      <div class="modal-body text-center p-5">
        <input type="hidden" id="hdnIdSolicitudRechazar">
        <h3 class="fw-bold mb-5" style="color: #000; line-height: 1.4;">¿Está seguro de rechazar <br> la solicitud?</h3>
        <div class="d-flex justify-content-center gap-4">
          <button type="button" class="btn btn-light border-dark px-4 py-2 fw-bold" data-bs-dismiss="modal" style="background-color: #fff; border-radius: 8px; min-width: 140px;">
            CANCELAR
          </button>
          <button type="button" id="btnConfirmarRechazo" class="btn btn-danger px-4 py-2 fw-bold" style="background-color: #8B2323; border: none; border-radius: 8px; min-width: 140px;">
            RECHAZAR
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="js/evaluacion.js"></script>
</body>
</html>